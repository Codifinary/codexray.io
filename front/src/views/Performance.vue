<template>
    <div class="performance-container">
        <v-progress-linear indeterminate v-if="loading" color="green" />
        <div v-if="!loading">
        <div class="cards">
            <Card2
                v-for="(card, index) in cards"
                :key="index"
                :cardData="card"
            />
        </div>
        <div class="charts">
        <Dashboard v-if="chartData.widgets && chartData.widgets.length > 0" id="chart" :name="title" :widgets="chartData.widgets.slice(0, Math.min(2, chartData.widgets.length))" />
        
            <Chart 
            v-if="chartData.widgets && chartData.widgets.length > 2 && chartData.widgets[2].chart" 
            id="chart" 
            :name="title" 
            :chart="chartData.widgets[2].chart" 
            :selection="selection" 
            @select="setSelection"
            :loading="loading" 
        />
        <Heatmap v-if="chartData.widgets && chartData.widgets.length > 3 && chartData.widgets[3].heatmap" :heatmap="chartData.widgets[3].heatmap" :selection="selection" @select="setSelection" :loading="loading" />
        </div>
            <v-simple-table class="table">
            <thead>
                <tr class="tab-heading text-body-10">
                    <th>Country</th>
                    <th>Requests</th>
                    <th>Errors</th>
                    <th>Error Rate %</th>
                    <th>Average HTTP Response Time</th>
                </tr>
            </thead>
            <tbody>
                <template v-if="countrywiseOverviews && countrywiseOverviews.length > 0">
                    <tr v-for="country in countrywiseOverviews" :key="country.Country">
                        <td>{{ country.Country }}</td>
                        <td>{{ country.Requests }}</td>
                        <td>{{ country.Errors }}</td>
                        <td>{{ country.ErrorRatePercentage.toFixed(2) }}</td>
                        <td>{{ country.AvgResponseTime }}</td>
                    </tr>
                </template>
                <tr v-else>
                    <td colspan="5" class="text-center">No data found</td>
                </tr>
            </tbody>
        </v-simple-table>

        <GeoMap class="geomap" :title="'Geo-Wise Error Distribution'" :countrywiseOverviews="countrywiseOverviews"/>
    </div>
    </div>

</template>

<script>
import Card2 from '@/components/Card2.vue';
import Dashboard from '@/components/Dashboard.vue';
import GeoMap from '@/components/GeoMap.vue';
import Heatmap from '@/components/Heatmap.vue';
import Chart from '@/components/Chart.vue';

export default {
    props: {
        projectId: String,
        tab: String,
    },
    data() {
        return {
            title: 'Performance Dashboard',
            data: {
    "context": {
        "status": {
            "status": "ok",
            "error": "",
            "prometheus": {
                "status": "ok",
                "message": "ok",
                "error": "",
                "action": ""
            },
            "node_agent": {
                "status": "ok",
                "nodes": 1
            },
            "kube_state_metrics": null
        },
        "search": {
            "applications": [
                {
                    "id": "_:Unknown:rtkit-daemon",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:cdn.fwupd.org:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-048e8b10.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:security.ubuntu.com",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:coroot.github.io",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-timesyncd",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:winbind",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:fprintd",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-c1fb3e6c.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:download.docker.com:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:deploy-cluster-agent-1",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:packages.redis.io:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:ppa.launchpadcontent.net:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:rsyslog",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:dbus",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:deploy-coroot-1",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:thermald",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:motd.ubuntu.com",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:download.docker.com",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:esm.ubuntu.com:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:cups",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-79bd7d4f.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-519eb334.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:coroot.com:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:acpid",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:snap.signal-desktop.hook.configure-d5611438-db6e-4240-a437-f11401fb4d3e.scope",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-3e92535d.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:avahi-daemon",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:udisks2",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-logind",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:geoclue",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:accounts-daemon",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-oomd",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:apt-daily-upgrade",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-693219b1.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:in.archive.ubuntu.com",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:system-postgresql",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-1dc54341.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-058f44e1.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-720b69ba.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:nvidia-suspend",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:kerneloops",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:switcheroo-control",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:external-http",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-449de74e.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:android.clients.google.com:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:codexray.github.io:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:canonical-bos01.cdn.snapcraftcontent.com",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-resolved",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:mega.nz:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:in.archive.ubuntu.com:80",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:apt-news",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-rfkill",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:mega.nz",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:fwupd-refresh",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:wpa_supplicant",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:anydesk",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:apache2",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:polkit",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:updates.signal.org",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:NetworkManager-dispatcher",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:packagekit",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:ollama",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:bluetooth",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-tmpfiles-clean",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:man-db",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:deploy-prometheus-1",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:unattended-upgrades",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-localed",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-timedated",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:snapd.apparmor",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:snapd.seeded",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:deploy-node-agent-1",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:api.snapcraft.io:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-aa6a8e8a.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:esm-cache",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-update-utmp-runlevel",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:ftp.postgresql.org:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:fstrim",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:windsurf-stable.codeiumdata.com",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:fwupd",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:plymouth-start",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-journald",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-fcac249d.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:deb.packages.mattermost.com:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:gdm",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:upower",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:connectivity-check.ubuntu.com:80",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:anacron",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-hostnamed",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:grub-common",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:connectivity-check.ubuntu.com",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:snapd",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:power-profiles-daemon",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:cups-browsed",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:colord",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:plymouth-quit-wait",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:nvidia-resume",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:ngrok-agent.s3.amazonaws.com",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:dpkg-db-backup",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:apt.fury.io:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:ftp.postgresql.org",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:NetworkManager",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:boot.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:api.snapcraft.io",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:deploy-clickhouse-1",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:update-notifier-download",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:docker",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-fsckd",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:mariadb",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:cron",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-e952efc4.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:windsurf-stable.codeiumdata.com:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:apt-daily",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:irqbalance",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-suspend",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-b18ed902.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:packages.redis.io",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:apt.fury.io",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:esm.ubuntu.com",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:networkd-dispatcher",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:analytics.google.com:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:containerd",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:ModemManager",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-e37a4922.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:systemd-udevd",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:deb.packages.mattermost.com",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-f8763563.net.search_path_suffix:80",
                    "status": "unknown"
                },
                {
                    "id": "external:ExternalService:relay-f8763563.net.search_path_suffix:443",
                    "status": "unknown"
                },
                {
                    "id": "_:Unknown:grub-initrd-fallback",
                    "status": "unknown"
                }
            ],
            "nodes": [
                {
                    "name": "Grizzly",
                    "status": "ok"
                }
            ]
        }
    },
    "data": {
        "status": "ok",
        "message": "",
        "summary": {
            "totalRequests": 5,
            "requestsPerSecond": 0.000008267195767195768,
            "requestsTrend": 500,
            "totalErrors": 1,
            "errorsPerSecond": 0.0000016534391534391535,
            "errorsTrend": 100,
            "usersImpacted": 2,
            "usersImpactedPerSecond": 0.000003306878306878307,
            "usersImpactedTrend": 200
        },
        "report": {
            "name": "Mobile Performance",
            "status": "ok",
            "widgets": [
                {
                    "chart": {
                        "ctx": {
                            "from": 1741847040000,
                            "to": 1742451840000,
                            "step": 3600000,
                            "raw_step": 30000
                        },
                        "title": "Requests by Time Slice",
                        "series": [
                            {
                                "name": "Requests by Time Slice",
                                "color": "light-blue",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    1,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    1,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    1,
                                    null,
                                    2,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": ""
                            }
                        ],
                        "threshold": null,
                        "featured": false,
                        "stacked": false,
                        "sorted": false,
                        "column": false,
                        "color_shift": 0,
                        "annotations": null,
                        "drill_down_link": null,
                        "hide_legend": false
                    }
                },
                {
                    "chart": {
                        "ctx": {
                            "from": 1741847040000,
                            "to": 1742451840000,
                            "step": 3600000,
                            "raw_step": 30000
                        },
                        "title": "Error Rate Trend by Time",
                        "series": [
                            {
                                "name": "Error Rate Trend by Time",
                                "color": "red",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    50,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": ""
                            }
                        ],
                        "threshold": null,
                        "featured": false,
                        "stacked": true,
                        "sorted": false,
                        "column": false,
                        "color_shift": 0,
                        "annotations": null,
                        "drill_down_link": null,
                        "hide_legend": false
                    }
                },
                {
                    "chart": {
                        "ctx": {
                            "from": 1741847040000,
                            "to": 1742451840000,
                            "step": 3600000,
                            "raw_step": 30000
                        },
                        "title": "User Impacted by Errors by Time",
                        "series": [
                            {
                                "name": "User Impacted by Errors by Time",
                                "color": "orange",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    1,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": ""
                            }
                        ],
                        "threshold": null,
                        "featured": false,
                        "stacked": true,
                        "sorted": false,
                        "column": false,
                        "color_shift": 0,
                        "annotations": null,
                        "drill_down_link": null,
                        "hide_legend": false
                    }
                },
                {
                    "heatmap": {
                        "ctx": {
                            "from": 1741847040000,
                            "to": 1742451840000,
                            "step": 3600000,
                            "raw_step": 30000
                        },
                        "title": "HTTP Response Latency \u0026 Errors heatmap, requests per second",
                        "series": [
                            {
                                "name": "200ms",
                                "title": "0-200 ms",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    1,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    1,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    1,
                                    null,
                                    2,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "0.2"
                            },
                            {
                                "name": "0.4s",
                                "title": "0.2-0.4 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "0.4"
                            },
                            {
                                "name": "0.6s",
                                "title": "0.4-0.6 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "0.6"
                            },
                            {
                                "name": "0.8s",
                                "title": "0.6-0.8 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "0.8"
                            },
                            {
                                "name": "1s",
                                "title": "0.8-1 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "1"
                            },
                            {
                                "name": "1.2s",
                                "title": "1-1.2 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "1.2"
                            },
                            {
                                "name": "1.4s",
                                "title": "1.2-1.4 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "1.4"
                            },
                            {
                                "name": "1.6s",
                                "title": "1.4-1.6 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "1.6"
                            },
                            {
                                "name": "1.8s",
                                "title": "1.6-1.8 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "1.8000001"
                            },
                            {
                                "name": "2s",
                                "title": "1.8-2 s",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "2"
                            },
                            {
                                "name": "errors",
                                "title": "errors",
                                "data": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    0,
                                    null,
                                    1,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null
                                ],
                                "value": "err"
                            }
                        ],
                        "annotations": null,
                        "drill_down_link": null
                    }
                }
            ],
            "checks": null,
            "custom": false,
            "instrumentation": ""
        },
        "countrywiseOverviews": [
            {
                "Country": "US",
                "Requests": 5,
                "Errors": 1,
                "ErrorRatePercentage": 20,
                "AvgResponseTime": 250,
                "GeoMapColorCode": "#FFEBCD"
            }
        ]
    }
},
            chartData: { widgets: [] },
            loading: true,
            error: null,
            cards: [
                { 
                    primaryLabel: 'Total Requests', 
                    primaryValue: 0, 
                    secondaryLabel: 'Req/sec',
                    secondaryValue: 0,
                    percentageChange: 0, 
                    icon: 'up-green-arrow',
                    iconColor: '',
                    bottomColor: '',
                    trendColor: ''
                },
                { 
                    primaryLabel: 'Errors', 
                    totalErrors: 0, 
                    secondaryLabel: 'Errors/sec',
                    secondaryValue: 0,
                    percentageChange: 0, 
                    icon: 'up-red-arrow',
                    iconColor: '',
                    bottomColor: '',
                    trendColor: ''
                },  
                { 
                    primaryLabel: 'Users Impacted', 
                    primaryValue: 0, 
                    secondaryLabel: 'Users impacted/sec',
                    secondaryValue: 0,
                    percentageChange: 0, 
                    icon: 'up-red-arrow',
                    iconColor: '',
                    bottomColor: '',
                    trendColor: ''
                },
            ],
            countrywiseOverviews: [],
            selection: {},
        };
    },
    mounted() {
        this.get();
    },

    watch: {
        '$route'() {
            this.get();
        },
    },
    methods: {
        get() {
            this.loading = true;
            this.error = null;
            
            this.$api.getPerformanceData((data, error) => {
                if (error) {
                    this.error = error;
                    this.loading = false;
                    return;
                }
        
                if (data && data.summary) {
                    const summary = data.summary;
                    
                    // Update Total Requests card
                    this.cards[0].primaryValue = summary.primaryValue || 0;
                    this.cards[0].secondaryValue = summary.requestsPerSecond ? summary.requestsPerSecond.toFixed(2) : 0;
                    this.cards[0].percentageChange = summary.requestsTrend ? Math.round(summary.requestsTrend / 100) : 0;
                    this.cards[0].iconColor = summary.requestsTrend > 0 ? '#66BB6A' : '#EF5350';
                    this.cards[0].icon = summary.requestsTrend > 0 ? 'up-green-arrow' : 'up-red-arrow';
                    this.cards[0].trendColor = summary.requestsTrend > 0 ? '#66BB6A' : '#EF5350';
                    
                    // Update Errors card
                    this.cards[1].primaryValue = summary.totalErrors || 0;
                    this.cards[1].secondaryValue = summary.errorsPerSecond ? summary.errorsPerSecond.toFixed(2) : 0;
                    this.cards[1].percentageChange = summary.errorsTrend ? Math.round(summary.errorsTrend / 100) : 0;
                    this.cards[1].iconColor = summary.errorsTrend > 0 ? '#EF5350' : '#66BB6A';
                    this.cards[1].icon = summary.errorsTrend > 0 ? 'up-red-arrow' : 'up-green-arrow';
                    this.cards[1].trendColor = summary.errorsTrend > 0 ? '#EF5350' : '#66BB6A';
                    
                    // Update Users Impacted card
                    this.cards[2].primaryValue = summary.usersImpacted || 0;
                    this.cards[2].secondaryValue = summary.usersImpactedPerSecond ? summary.usersImpactedPerSecond.toFixed(2) : 0;
                    this.cards[2].percentageChange = summary.usersImpactedTrend ? Math.round(summary.usersImpactedTrend / 100) : 0;
                    this.cards[2].iconColor = summary.usersImpactedTrend > 0 ? '#EF5350' : '#66BB6A';
                    this.cards[2].icon = summary.usersImpactedTrend > 0 ? 'up-red-arrow' : 'up-green-arrow';
                    this.cards[2].trendColor = summary.usersImpactedTrend > 0 ? '#EF5350' : '#66BB6A';
                }
                
                if (data && data.countrywiseOverviews) {
                    this.countrywiseOverviews = data.countrywiseOverviews;
                }
                
                if (data && data.report) {
                    this.chartData = data.report;
                }
                
                this.loading = false;
            });
        },
        setSelection(s) {
            const { from, to } = s.selection;
            this.selection = { ...this.selection, from, to };
            // If you need to update the URL query parameters
            // const query = { ...this.$route.query, from, to };
            // this.$router.push({ query }).catch((err) => err);
        }
    },
    components: {
        Card2,
        GeoMap,
        Dashboard,
        Heatmap,
        Chart
    },
};
</script>

<style scoped>
.performance-container{
    margin: 20px;
}

.charts{
    display: flex;
    flex-direction: column;
    gap: 50px;
    margin-top: 50px;
    margin-bottom: 50px;
    margin-right: 30px;
}

.cards {
    display: flex;
    flex-wrap: wrap;
    gap: 50px;
    margin-right: 30px;  
    margin-bottom: 50px;
    margin-top: 50px;
}

.table {
    margin-bottom: 50px;
    margin-top: 50px;
}

.light-green-bg {
    background-color: rgba(5, 150, 105, 0.1);
}

.light-red-bg {
    background-color: rgba(220, 38, 38, 0.1);
}

.light-orange-bg {
    background-color: rgba(249, 115, 22, 0.1);
}

.geomap{
    margin-top: 50px;
}
</style>
